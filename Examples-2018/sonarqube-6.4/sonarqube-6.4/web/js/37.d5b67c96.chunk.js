webpackJsonp([37],{415:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.projectsListType=t.projectType=void 0;var a=n(1),o=r(a),l=o.default.PropTypes,c=l.shape,i=l.string,u=l.array,s=l.arrayOf,p=t.projectType=c({id:i.isRequired,key:i.isRequired,name:i.isRequired,lastAnalysisDate:i,description:i,links:u.isRequired,qualityGate:i});t.projectsListType=s(p)},766:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),u=r(i),s=n(6),p=r(s),f=n(4),d=n(9),y=n(169),h=r(y),m=n(415),j=n(2),b=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props.project,t=null!=e.lastAnalysisDate,n=t&&(0,p.default)(e.lastAnalysisDate),r=(0,f.sortBy)(e.links,"type");return u.default.createElement("div",{className:"account-project-card clearfix"},u.default.createElement("aside",{className:"account-project-side"},t?u.default.createElement("div",{className:"account-project-analysis",title:n.format("LLL")},(0,j.translateWithParameters)("my_account.projects.analyzed_x",n.fromNow())):u.default.createElement("div",{className:"account-project-analysis"},(0,j.translate)("my_account.projects.never_analyzed")),null!=e.qualityGate&&u.default.createElement("div",{className:"account-project-quality-gate"},u.default.createElement(h.default,{level:e.qualityGate}))),u.default.createElement("h3",{className:"account-project-name"},u.default.createElement(d.Link,{to:{pathname:"/dashboard",query:{id:e.key}}},e.name)),r.length>0&&u.default.createElement("div",{className:"account-project-links"},u.default.createElement("ul",{className:"list-inline"},r.map(function(e){return u.default.createElement("li",{key:e.type},u.default.createElement("a",{className:"link-with-icon",href:e.href,title:e.name,target:"_blank",rel:"nofollow"},u.default.createElement("i",{className:"icon-color-link icon-"+e.type})))}))),u.default.createElement("div",{className:"account-project-key"},e.key),!!e.description&&u.default.createElement("div",{className:"account-project-description"},e.description))}}]),t}(u.default.PureComponent);b.propTypes={project:m.projectType.isRequired},t.default=b},767:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),u=r(i),s=n(766),p=r(s),f=n(77),d=r(f),y=n(415),h=n(2),m=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props.projects;return u.default.createElement("div",{id:"account-projects"},0===e.length?u.default.createElement("div",{className:"js-no-results"},(0,h.translate)("my_account.projects.no_results")):u.default.createElement("p",null,(0,h.translate)("my_account.projects.description")),e.length>0&&u.default.createElement("ul",{className:"account-projects-list"},e.map(function(e){return u.default.createElement("li",{key:e.key},u.default.createElement(p.default,{project:e}))})),e.length>0&&u.default.createElement(d.default,{count:e.length,total:this.props.total,ready:!this.props.loading,loadMore:this.props.loadMore}))}}]),t}(u.default.PureComponent);m.propTypes={projects:y.projectsListType.isRequired,total:u.default.PropTypes.number.isRequired,loading:u.default.PropTypes.bool.isRequired,loadMore:u.default.PropTypes.func.isRequired},t.default=m},768:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),s=r(u),p=n(15),f=r(p),d=n(767),y=r(d),h=n(30),m=n(2),j=s.default.createElement("i",{className:"spinner spinner-margin"}),b=function(e){function t(){var e,n,r,a;o(this,t);for(var c=arguments.length,i=Array(c),u=0;u<c;u++)i[u]=arguments[u];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={loading:!0,page:1,query:""},a=n,l(r,a)}return c(t,e),i(t,[{key:"componentWillMount",value:function(){this.loadMore=this.loadMore.bind(this),this.search=this.search.bind(this)}},{key:"componentDidMount",value:function(){this.mounted=!0,this.loadProjects()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"loadProjects",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.page,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.query;this.setState({loading:!0});var r={ps:100};return t>1&&(r.p=t),n&&(r.q=n),(0,h.getMyProjects)(r).then(function(r){var o=t>1?[].concat(a(e.state.projects),a(r.projects)):r.projects;e.setState({projects:o,query:n,loading:!1,page:r.paging.pageIndex,total:r.paging.total})})}},{key:"loadMore",value:function(){return this.loadProjects(this.state.page+1)}},{key:"search",value:function(e){return this.loadProjects(1,e)}},{key:"render",value:function(){var e=s.default.createElement(f.default,{title:(0,m.translate)("my_account.projects")});return null==this.state.projects?s.default.createElement("div",{className:"text-center"},e,j):s.default.createElement("div",{className:"account-body account-container"},e,s.default.createElement(y.default,{projects:this.state.projects,total:this.state.total,loading:this.state.loading,loadMore:this.loadMore,search:this.search}))}}]),t}(s.default.PureComponent);t.default=b}});