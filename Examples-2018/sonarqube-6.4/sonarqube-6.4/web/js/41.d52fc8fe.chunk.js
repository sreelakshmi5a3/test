webpackJsonp([41],{1250:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=a(1),d=r(o),u=a(15),c=r(u),f=a(2),p=a(132),m=a(28),v=d.default.createElement("i",{className:"spinner"}),g=d.default.createElement("em",{className:"mandatory"},"*"),h=d.default.createElement("em",{className:"mandatory"},"*"),y=function(e){function t(){var e,a,r,i;n(this,t);for(var s=arguments.length,o=Array(s),d=0;d<s;d++)o[d]=arguments[d];return a=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={loading:!0,organization:"",ip:"",validIpAddresses:[]},i=a,l(r,i)}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchServerId()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"handleError",value:function(e){var t=this;this.setState({loading:!1}),(0,m.parseError)(e).then(function(e){return t.props.addGlobalErrorMessage(e)})}},{key:"fetchServerId",value:function(){var e=this;this.setState({loading:!0}),(0,p.getServerId)().then(function(t){e.mounted&&e.setState(Object.assign({},t,{loading:!1}))}).catch(function(t){return e.handleError(t)})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0}),this.props.closeAllGlobalMessages(),(0,p.generateServerId)(this.state.organization,this.state.ip).then(function(e){t.mounted&&t.setState({serverId:e.serverId,invalidServerId:!1,loading:!1})}).catch(function(e){return t.handleError(e)})}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{id:"server-id-page",className:"page page-limited"},d.default.createElement(c.default,{title:(0,f.translate)("property.category.server_id")}),d.default.createElement("header",{className:"page-header"},d.default.createElement("h1",{className:"page-title"},(0,f.translate)("property.category.server_id")),this.state.loading&&v,d.default.createElement("div",{className:"page-description"},(0,f.translate)("server_id_configuration.information"))),null!=this.state.serverId&&d.default.createElement("div",{className:this.state.invalidServerId?"panel panel-danger":"panel"},"Server ID:",d.default.createElement("input",{id:"server-id-result",className:"spacer-left input-large input-clear input-code",type:"text",readOnly:!0,value:this.state.serverId}),!!this.state.invalidServerId&&d.default.createElement("span",{className:"spacer-left"},(0,f.translate)("server_id_configuration.bad_key"))),d.default.createElement("div",{className:"panel"},d.default.createElement("form",{id:"server-id-form",onSubmit:function(t){return e.handleSubmit(t)}},d.default.createElement("div",{className:"modal-field"},d.default.createElement("label",{htmlFor:"server-id-organization"},(0,f.translate)("server_id_configuration.organisation.title"),g),d.default.createElement("input",{id:"server-id-organization",type:"text",required:!0,value:this.state.organization,disabled:this.state.loading,onChange:function(t){return e.setState({organization:t.target.value})}}),d.default.createElement("div",{className:"modal-field-description"},(0,f.translate)("server_id_configuration.organisation.desc"),". ",(0,f.translate)("server_id_configuration.organisation.pattern"))),d.default.createElement("div",{className:"modal-field"},d.default.createElement("label",{htmlFor:"server-id-ip"},(0,f.translate)("server_id_configuration.ip.title"),h),d.default.createElement("input",{id:"server-id-ip",type:"text",required:!0,value:this.state.ip,disabled:this.state.loading,onChange:function(t){return e.setState({ip:t.target.value})}}),d.default.createElement("div",{className:"modal-field-description"},(0,f.translate)("server_id_configuration.ip.desc"),d.default.createElement("ul",{className:"list-styled"},this.state.validIpAddresses.map(function(e){return d.default.createElement("li",{key:e,className:"little-spacer-top"},e)})))),d.default.createElement("div",{className:"modal-field"},d.default.createElement("button",{disabled:this.state.loading},(0,f.translate)("server_id_configuration.generate_button"))))))}}]),t}(d.default.PureComponent);y.propTypes={addGlobalErrorMessage:d.default.PropTypes.func.isRequired,closeAllGlobalMessages:d.default.PropTypes.func.isRequired},t.default=y},1251:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(7),l=a(1250),i=r(l),s=a(34);t.default=(0,n.connect)(function(){return{}},{addGlobalErrorMessage:s.addGlobalErrorMessage,closeAllGlobalMessages:s.closeAllGlobalMessages})(i.default)}});