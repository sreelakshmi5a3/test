webpackJsonp([10],{76:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteAnalysis=t.changeEvent=t.addVersion=t.deleteEvent=t.addCustomEvent=t.fetchMoreProjectActivity=t.fetchProjectActivity=void 0;var r=n(131),l=a(r),i=n(120),c=n(48),u=n(8),s=function(e){return function(t){return(0,c.onFail)(e)(t),Promise.reject()}},f=(t.fetchProjectActivity=function(e,t){return function(n){l.getProjectActivity(e,{category:t}).then(function(t){var a=t.analyses,o=t.paging;return n((0,i.receiveProjectActivity)(e,a,o))},(0,c.onFail)(n))}},t.fetchMoreProjectActivity=function(e,t){return function(n,a){var o=(0,u.getProjectActivity)(a()),r=(0,i.getPaging)(o,e),s=r.pageIndex;l.getProjectActivity(e,{category:t,pageIndex:s+1}).then(function(t){var a=t.analyses,o=t.paging;return n((0,i.receiveProjectActivity)(e,a,o))},(0,c.onFail)(n))}},function(e,t,n){return function(a){return l.createEvent(e,t,n).then(function(e){var t=e.analysis,n=o(e,["analysis"]);return a((0,i.addEvent)(t,n))},s(a))}});t.addCustomEvent=f;t.deleteEvent=function(e,t){return function(n){return l.deleteEvent(t).then(function(){return n((0,i.deleteEvent)(e,t))},s(n))}},t.addVersion=function(e,t){return function(n){return n(f(e,t,"VERSION"))}},t.changeEvent=function(e,t){return function(n){return l.changeEvent(e,t).then(function(){return n((0,i.changeEvent)(e,{name:t}))},s(n))}},t.deleteAnalysis=function(e,t){return function(n){return l.deleteAnalysis(t).then(function(){return n((0,i.deleteAnalysis)(e,t))},s(n))}}},131:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteAnalysis=t.changeEvent=t.deleteEvent=t.createEvent=t.getProjectActivity=void 0;var a=n(21);t.getProjectActivity=function(e,t){var n={project:e};return t&&(t.category&&(n.category=t.category),t.pageIndex&&(n.p=t.pageIndex),t.pageSize&&(n.ps=t.pageSize)),(0,a.getJSON)("/api/project_analyses/search",n)},t.createEvent=function(e,t,n,o){var r={analysis:e,name:t};return n&&(r.category=n),o&&(r.description=o),(0,a.postJSON)("/api/project_analyses/create_event",r).then(function(e){return e.event})},t.deleteEvent=function(e){return(0,a.post)("/api/project_analyses/delete_event",{event:e})},t.changeEvent=function(e,t,n){var o={event:e};return t&&(o.name=t),n&&(o.description=n),(0,a.postJSON)("/api/project_analyses/update_event",o).then(function(e){return e.event})},t.deleteAnalysis=function(e){return(0,a.post)("/api/project_analyses/delete",{analysis:e})}},221:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),u=a(c),s=n(6),f=a(s),p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.date,n=e.format,a=e.tooltipFormat,o=(0,f.default)(t),r=a?o.format(a):void 0;return u.default.createElement("time",{dateTime:o.format(),title:r},o.format(n))}}]),t}(u.default.PureComponent);p.defaultProps={format:"LLL"},t.default=p},275:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(){return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(1),l=a(r),i=l.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 14 14"},l.default.createElement("path",{fill:"#236a97",d:"M3.35 12.82l.85-.84L2.02 9.8l-.84.85v.98h1.2v1.2h.97zM8.2 4.24c0-.13-.08-.2-.22-.2-.06 0-.1.02-.15.06l-5 5c-.05.05-.08.1-.08.17 0 .13.07.2.2.2.07 0 .12-.02.16-.06l5.02-5c.05-.04.07-.1.07-.16zm-.5-1.77l3.83 3.84-7.7 7.7H0v-3.84l7.7-7.7zm6.3.88c0 .33-.1.6-.34.84L12.12 5.7 8.28 1.88 9.8.35c.24-.23.5-.35.85-.35.32 0 .6.12.84.35l2.16 2.16c.23.25.34.53.34.85z"}))},276:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(){return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(1),l=a(r),i=l.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 14 14"},l.default.createElement("path",{fill:"#d4333f",d:"M14 11.27c0 .3-.1.58-.33.8l-1.6 1.6c-.22.22-.5.33-.8.33-.32 0-.6-.1-.8-.33L7 10.2l-3.46 3.47c-.22.22-.5.33-.8.33-.32 0-.6-.1-.8-.33l-1.6-1.6c-.23-.22-.34-.5-.34-.8 0-.32.1-.6.33-.8L3.8 7 .32 3.54C.1 3.32 0 3.04 0 2.74c0-.32.1-.6.33-.8l1.6-1.6c.22-.23.5-.34.8-.34.32 0 .6.1.8.33L7 3.8 10.46.32c.22-.22.5-.33.8-.33.32 0 .6.1.8.33l1.6 1.6c.23.22.34.5.34.8 0 .32-.1.6-.33.8L10.2 7l3.47 3.46c.22.22.33.5.33.8z"}))},277:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),u=a(c),s=n(278),f=a(s),p=n(280),d=a(p),m=n(282),y=a(m),v=n(276),h=a(v),b=n(275),g=a(b),_=u.default.createElement(g.default,null),E=u.default.createElement(h.default,null),j=function(e){function t(){var e,n,a,l;o(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={changing:!1,deleting:!1},a.startChanging=function(){a.setState({changing:!0})},a.stopChanging=function(){a.mounted&&a.setState({changing:!1})},a.startDeleting=function(){a.setState({deleting:!0})},a.stopDeleting=function(){a.mounted&&a.setState({deleting:!1})},l=n,r(a,l)}return l(t,e),i(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.event,n=e.canAdmin,a=["OTHER","VERSION"].includes(t.category),o="OTHER"===t.category||"VERSION"===t.category&&!this.props.isFirst,r=n&&(a||o);return u.default.createElement("div",{className:"project-activity-event"},u.default.createElement(f.default,{event:this.props.event}),r&&u.default.createElement("div",{className:"project-activity-event-actions"},a&&u.default.createElement("button",{className:"js-change-event button-clean",onClick:this.startChanging},_),o&&u.default.createElement("button",{className:"js-delete-event button-clean",onClick:this.startDeleting},E)),this.state.changing&&u.default.createElement(d.default,{event:this.props.event,onClose:this.stopChanging}),this.state.deleting&&u.default.createElement(y.default,{analysis:this.props.analysis,event:this.props.event,onClose:this.stopDeleting}))}}]),t}(u.default.PureComponent);t.default=j},278:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.event;return"VERSION"===t.category?l.default.createElement("span",{className:"badge project-activity-version-badge"},e.event.name):l.default.createElement(i.TooltipsContainer,null,l.default.createElement("span",null,l.default.createElement("span",{className:"note"},(0,c.translate)("event.category",t.category),":")," ",l.default.createElement("strong",{title:t.description,"data-toggle":"tooltip"},t.name)))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(1),l=a(r),i=n(31),c=n(2);n(392)},279:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(0,i.sortBy)(e.events,function(e){return"VERSION"===e.category?0:1},"category");return l.default.createElement("div",{className:"project-activity-events"},t.map(function(t){return l.default.createElement(u.default,{key:t.key,analysis:e.analysis,event:t,isFirst:e.isFirst,canAdmin:e.canAdmin})}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(1),l=a(r),i=n(4),c=n(277),u=a(c)},280:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(1),l=a(r),i=n(7),c=n(281),u=a(c),s=n(76),f=function(e){return l.default.createElement(u.default,o({},e,{changeEventButtonText:"project_activity.change_custom_event"}))},p=null,d={changeEvent:s.changeEvent};t.default=(0,i.connect)(p,d)(f)},281:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),u=a(c),s=n(43),f=a(s),p=n(2),d=u.default.createElement("i",{className:"spinner"}),m=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.closeForm=function(){n.mounted&&n.setState({name:n.props.event.name}),n.props.onClose()},n.changeInput=function(e){n.mounted&&n.setState({name:e.target.value})},n.stopProcessing=function(){n.mounted&&n.setState({processing:!1})},n.stopProcessingAndClose=function(){n.mounted&&n.setState({processing:!1}),n.props.onClose()},n.handleSubmit=function(e){e.preventDefault(),n.setState({processing:!0}),n.props.changeEvent(n.props.event.key,n.state.name).then(n.stopProcessingAndClose,n.stopProcessing)},n.state={processing:!1,name:e.event.name},n}return l(t,e),i(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return u.default.createElement(f.default,{isOpen:!0,contentLabel:"modal form",className:"modal",overlayClassName:"modal-overlay",onRequestClose:this.closeForm},u.default.createElement("header",{className:"modal-head"},u.default.createElement("h2",null,(0,p.translate)(this.props.changeEventButtonText))),u.default.createElement("form",{onSubmit:this.handleSubmit},u.default.createElement("div",{className:"modal-body"},u.default.createElement("div",{className:"modal-field"},u.default.createElement("label",null,(0,p.translate)("name")),u.default.createElement("input",{value:this.state.name,autoFocus:!0,disabled:this.state.processing,className:"input-medium",type:"text",onChange:this.changeInput}))),u.default.createElement("footer",{className:"modal-foot"},this.state.processing?d:u.default.createElement("div",null,u.default.createElement("button",{type:"submit"},(0,p.translate)("change_verb")),u.default.createElement("button",{type:"reset",className:"button-link",onClick:this.closeForm},(0,p.translate)("cancel"))))))}}]),t}(u.default.PureComponent);t.default=m},282:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return i.default.createElement(s.default,r({},e,{removeEventButtonText:"project_activity.remove_custom_event",removeEventQuestion:"project_activity.remove_custom_event.question"}))}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=n(1),i=a(l),c=n(7),u=n(283),s=a(u),f=n(76),p=null,d={deleteEvent:f.deleteEvent};t.default=(0,c.connect)(p,d)(o)},283:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),u=a(c),s=n(43),f=a(s),p=n(2),d=u.default.createElement("i",{className:"spinner"}),m=function(e){function t(){var e,n,a,l;o(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={processing:!1},a.closeForm=function(){a.props.onClose()},a.stopProcessing=function(){a.mounted&&a.setState({processing:!1})},a.stopProcessingAndClose=function(){a.mounted&&a.setState({processing:!1}),a.props.onClose()},a.handleSubmit=function(e){e.preventDefault(),a.setState({processing:!0}),a.props.deleteEvent(a.props.analysis,a.props.event.key).then(a.stopProcessingAndClose,a.stopProcessing)},l=n,r(a,l)}return l(t,e),i(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return u.default.createElement(f.default,{isOpen:!0,contentLabel:"modal form",className:"modal",overlayClassName:"modal-overlay",onRequestClose:this.closeForm},u.default.createElement("header",{className:"modal-head"},u.default.createElement("h2",null,(0,p.translate)(this.props.removeEventButtonText))),u.default.createElement("form",{onSubmit:this.handleSubmit},u.default.createElement("div",{className:"modal-body"},(0,p.translate)(this.props.removeEventQuestion)),u.default.createElement("footer",{className:"modal-foot"},this.state.processing?d:u.default.createElement("div",null,u.default.createElement("button",{type:"submit",className:"button-red",autoFocus:!0},(0,p.translate)("delete")),u.default.createElement("button",{type:"reset",className:"button-link",onClick:this.closeForm},(0,p.translate)("cancel"))))))}}]),t}(u.default.PureComponent);t.default=m},346:function(e,t,n){t=e.exports=n(22)(),t.push([e.id,".project-activity-event+.project-activity-event{margin-top:4px}",""])},392:function(e,t,n){var a=n(346);"string"==typeof a&&(a=[[e.id,a,""]]);n(23)(a,{});a.locals&&(e.exports=a.locals)},453:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),u=a(c),s=n(43),f=a(s),p=n(2),d=u.default.createElement("i",{className:"spinner"}),m=function(e){function t(){var e,n,a,l;o(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={open:!1,processing:!1,name:""},a.openForm=function(e){e.preventDefault(),a.mounted&&a.setState({open:!0})},a.closeForm=function(){a.mounted&&a.setState({open:!1,name:""})},a.changeInput=function(e){a.mounted&&a.setState({name:e.target.value})},a.stopProcessing=function(){a.mounted&&a.setState({processing:!1})},a.stopProcessingAndClose=function(){a.mounted&&a.setState({open:!1,processing:!1,name:""})},a.handleSubmit=function(e){e.preventDefault(),a.setState({processing:!0}),a.props.addEvent(a.props.analysis.key,a.state.name).then(a.stopProcessingAndClose,a.stopProcessing)},l=n,r(a,l)}return l(t,e),i(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"renderModal",value:function(){return u.default.createElement(f.default,{isOpen:!0,contentLabel:"modal form",className:"modal",overlayClassName:"modal-overlay",onRequestClose:this.closeForm},u.default.createElement("header",{className:"modal-head"},u.default.createElement("h2",null,(0,p.translate)(this.props.addEventButtonText))),u.default.createElement("form",{onSubmit:this.handleSubmit},u.default.createElement("div",{className:"modal-body"},u.default.createElement("div",{className:"modal-field"},u.default.createElement("label",null,(0,p.translate)("name")),u.default.createElement("input",{value:this.state.name,autoFocus:!0,disabled:this.state.processing,className:"input-medium",type:"text",onChange:this.changeInput}))),u.default.createElement("footer",{className:"modal-foot"},this.state.processing?d:u.default.createElement("div",null,u.default.createElement("button",{type:"submit"},(0,p.translate)("save")),u.default.createElement("button",{type:"reset",className:"button-link",onClick:this.closeForm},(0,p.translate)("cancel"))))))}},{key:"render",value:function(){return u.default.createElement("a",{className:"js-add-event button-small",href:"#",onClick:this.openForm},(0,p.translate)(this.props.addEventButtonText),this.state.open&&this.renderModal())}}]),t}(u.default.PureComponent);t.default=m},1084:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!e.analyses)return null;if(0===e.analyses.length)return l.default.createElement("div",{className:"note"},(0,h.translate)("no_results"));var t=e.analyses[0],n=(0,c.groupBy)(e.analyses,function(e){return(0,s.default)(e.date).startOf("day").valueOf()});return l.default.createElement("div",{className:"boxed-group boxed-group-inner"},l.default.createElement("ul",{className:"project-activity-days-list"},Object.keys(n).map(function(a){return l.default.createElement("li",{key:a,className:"project-activity-day","data-day":(0,s.default)(Number(a)).format("YYYY-MM-DD")},l.default.createElement("div",{className:"project-activity-date"},l.default.createElement(m.default,{date:Number(a),format:"LL"})),l.default.createElement("ul",{className:"project-activity-analyses-list"},null!=n[a]&&n[a].map(function(n){return l.default.createElement(p.default,{key:n.key,analysis:n,isFirst:n===t,project:e.project,canAdmin:e.canAdmin})})))})))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),l=a(r),i=n(7),c=n(4),u=n(6),s=a(u),f=n(1085),p=a(f),d=n(221),m=a(d),y=n(8),v=n(120),h=n(2),b=function(e,t){return{analyses:(0,v.getAnalyses)((0,y.getProjectActivity)(e),t.project)}};t.default=(0,i.connect)(b)(o)},1085:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.analysis,n=t.date,a=t.events,o=e.isFirst,r=e.canAdmin,i=a.find(function(e){return"VERSION"===e.category});return l.default.createElement("li",{className:"project-activity-analysis clearfix"},r&&l.default.createElement("div",{className:"project-activity-analysis-actions"},l.default.createElement("div",{className:"dropdown display-inline-block"},l.default.createElement("button",{className:"js-create button-small","data-toggle":"dropdown"},(0,h.translate)("create")," ",b),l.default.createElement("ul",{className:"dropdown-menu dropdown-menu-right"},null==i&&l.default.createElement("li",null,l.default.createElement(s.default,{analysis:e.analysis})),l.default.createElement("li",null,l.default.createElement(p.default,{analysis:e.analysis})))),!o&&l.default.createElement("div",{className:"display-inline-block little-spacer-left"},l.default.createElement(m.default,{analysis:e.analysis,project:e.project}))),l.default.createElement("div",{className:"project-activity-time"},l.default.createElement(v.default,{date:n,format:"LT",tooltipFormat:"LTS"})),a.length>0&&l.default.createElement(c.default,{analysis:e.analysis.key,events:a,isFirst:e.isFirst,canAdmin:r}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(1),l=a(r),i=n(279),c=a(i),u=n(1090),s=a(u),f=n(1089),p=a(f),d=n(1091),m=a(d),y=n(221),v=a(y),h=n(2),b=l.default.createElement("i",{className:"icon-dropdown"})},1086:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),u=a(c),s=n(15),f=a(s),p=n(7),d=n(1088),m=a(d),y=n(1084),v=a(y),h=n(1087),b=a(h),g=n(76),_=n(8),E=n(2);n(1909);var j=function(e){function t(){var e,n,a,l;o(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={filter:null},a.handleFilter=function(e){a.setState({filter:e}),a.props.fetchProjectActivity(a.props.location.query.id,e)},l=n,r(a,l)}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=document.querySelector("html");e&&e.classList.add("dashboard-page"),this.props.fetchProjectActivity(this.props.location.query.id)}},{key:"componentWillUnmount",value:function(){var e=document.querySelector("html");e&&e.classList.remove("dashboard-page")}},{key:"render",value:function(){var e=this.props.location.query.id,t=this.props.project.configuration,n=!!t&&t.showHistory;return u.default.createElement("div",{id:"project-activity",className:"page page-limited"},u.default.createElement(f.default,{title:(0,E.translate)("project_activity.page")}),u.default.createElement(m.default,{project:e,filter:this.state.filter,changeFilter:this.handleFilter}),u.default.createElement(v.default,{project:e,canAdmin:n}),u.default.createElement(b.default,{project:e}))}}]),t}(u.default.PureComponent),O=function(e,t){return{project:(0,_.getComponent)(e,t.location.query.id)}},P={fetchProjectActivity:g.fetchProjectActivity};t.default=(0,p.connect)(O,P)(j)},1087:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),u=a(c),s=n(7),f=n(77),p=a(f),d=n(8),m=n(120),y=n(76),v=function(e){function t(){var e,n,a,l;o(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.handleLoadMore=function(){a.props.fetchMoreProjectActivity(a.props.project)},l=n,r(a,l)}return l(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.analyses,n=e.paging;return n&&0!==t.length?u.default.createElement(p.default,{count:t.length,total:n.total,loadMore:this.handleLoadMore}):null}}]),t}(u.default.PureComponent),h=function(e,t){return{analyses:(0,m.getAnalyses)((0,d.getProjectActivity)(e),t.project),paging:(0,m.getPaging)((0,d.getProjectActivity)(e),t.project)}},b={fetchMoreProjectActivity:y.fetchMoreProjectActivity};t.default=(0,s.connect)(h,b)(v)},1088:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),u=a(c),s=n(33),f=a(s),p=n(2),d=function(e){function t(){var e,n,a,l;o(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.handleChange=function(e){a.props.changeFilter(e&&e.value)},l=n,r(a,l)}return l(t,e),i(t,[{key:"render",value:function(){var e=["VERSION","QUALITY_GATE","QUALITY_PROFILE","OTHER"].map(function(e){return{label:(0,p.translate)("event.category",e),value:e}});return u.default.createElement("header",{className:"page-header"},u.default.createElement("div",{className:"page-actions"},u.default.createElement(f.default,{className:"input-medium",placeholder:(0,p.translate)("filter_verb")+"...",clearable:!0,searchable:!1,value:this.props.filter,options:e,onChange:this.handleChange})),u.default.createElement("div",{className:"page-description"},(0,p.translate)("project_activity.page.description")))}}]),t}(u.default.PureComponent);t.default=d},1089:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return i.default.createElement(f.default,r({},e,{addEventButtonText:"project_activity.add_custom_event"}))}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=n(1),i=a(l),c=n(7),u=n(76),s=n(453),f=a(s),p=null,d={addEvent:u.addCustomEvent};t.default=(0,c.connect)(p,d)(o)},1090:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return i.default.createElement(f.default,r({},e,{addEventButtonText:"project_activity.add_version"}))}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=n(1),i=a(l),c=n(7),u=n(76),s=n(453),f=a(s),p=null,d={addEvent:u.addVersion};t.default=(0,c.connect)(p,d)(o)},1091:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),u=a(c),s=n(7),f=n(43),p=a(f),d=n(2),m=n(76),y=u.default.createElement("i",{className:"spinner"}),v=function(e){function t(){var e,n,a,l;o(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={open:!1,processing:!1},a.openForm=function(){a.mounted&&a.setState({open:!0})},a.closeForm=function(){a.mounted&&a.setState({open:!1})},a.stopProcessing=function(){a.mounted&&a.setState({processing:!1})},a.stopProcessingAndClose=function(){a.mounted&&a.setState({open:!1,processing:!1})},a.handleSubmit=function(e){e.preventDefault(),a.setState({processing:!0}),a.props.deleteAnalysis(a.props.project,a.props.analysis.key).then(a.stopProcessingAndClose,a.stopProcessing)},l=n,r(a,l)}return l(t,e),i(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"renderModal",value:function(){return u.default.createElement(p.default,{isOpen:!0,contentLabel:"modal form",className:"modal",overlayClassName:"modal-overlay",onRequestClose:this.closeForm},u.default.createElement("header",{className:"modal-head"},u.default.createElement("h2",null,(0,d.translate)("project_activity.delete_analysis"))),u.default.createElement("form",{
onSubmit:this.handleSubmit},u.default.createElement("div",{className:"modal-body"},(0,d.translate)("project_activity.delete_analysis.question")),u.default.createElement("footer",{className:"modal-foot"},this.state.processing?y:u.default.createElement("div",null,u.default.createElement("button",{type:"submit",className:"button-red"},(0,d.translate)("delete")),u.default.createElement("button",{type:"reset",className:"button-link",onClick:this.closeForm},(0,d.translate)("cancel"))))))}},{key:"render",value:function(){return u.default.createElement("button",{className:"js-delete-analysis button-small button-red",onClick:this.openForm},(0,d.translate)("delete"),this.state.open&&this.renderModal())}}]),t}(u.default.PureComponent),h=null,b={deleteAnalysis:m.deleteAnalysis};t.default=(0,s.connect)(h,b)(v)},1555:function(e,t,n){t=e.exports=n(22)(),t.push([e.id,'.project-activity-day{margin-bottom:40px}.project-activity-day:last-child{margin-bottom:10px}.project-activity-date{margin-bottom:16px;font-size:15px;font-weight:700}.project-activity-analysis{position:relative;min-height:20px;padding-top:6px;padding-bottom:6px;border-top:1px solid #e6e6e6;border-bottom:1px solid #e6e6e6}.project-activity-analysis:hover{background-color:#ecf6fe}.project-activity-analysis+.project-activity-analysis{border-top:none}.project-activity-analysis-actions{float:right;padding-right:10px}.project-activity-analysis-actions:empty,.project-activity-analysis-actions:first-child{margin-top:0}.project-activity-analysis-actions>button+button,.project-activity-analysis-actions>button+form,.project-activity-analysis-actions>form+button,.project-activity-analysis-actions>form+form{margin-left:8px}.project-activity-analysis-form{display:inline-block;vertical-align:top;line-height:20px;margin-bottom:10px;padding:9px;border:1px solid #faebcc;border-radius:2px;background-color:#fcf8e3}.project-activity-analysis-form+.project-activity-analysis-form{margin-left:8px}.project-activity-time{float:left;width:130px;line-height:20px;padding-right:50px;box-sizing:border-box;font-size:12px;font-weight:700;text-align:right}.project-activity-time:after{position:absolute;z-index:21;top:11px;left:100px;display:block;width:10px;height:10px;border:2px solid #4b9fd5;border-radius:10px;box-sizing:border-box;content:""}.project-activity-events{overflow:hidden}.project-activity-event{line-height:20px}.project-activity-event-actions{display:inline-block;margin-left:8px}.project-activity-event-actions button{height:20px}.project-activity-event-actions button+button{margin-left:4px}.project-activity-version-badge{vertical-align:middle;padding:4px 8px;border-radius:2px;font-weight:700;font-size:12px;letter-spacing:0}',""])},1909:function(e,t,n){var a=n(1555);"string"==typeof a&&(a=[[e.id,a,""]]);n(23)(a,{});a.locals&&(e.exports=a.locals)}});