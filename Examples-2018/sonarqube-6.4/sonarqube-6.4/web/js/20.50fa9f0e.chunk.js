webpackJsonp([20],{58:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function l(){return o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var a=n(1),u=r(a),o=u.default.createElement("i",{className:"spinner spinner-margin"})},261:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),a=r(l),u=n(37),o=r(u),c=n(59),i=n(16),s=function(e){var t=e.component,n=e.metric,r=e.onBrowse,l=function(e){e.preventDefault(),e.target.blur(),r(t)},u=void 0;u=r?a.default.createElement("a",{id:"component-measures-breadcrumb-"+t.key,href:"#",onClick:l},t.name):a.default.createElement("span",null,t.name);var s=(0,c.isDiffMetric)(n)?(0,c.formatLeak)(t.leak,n):(0,i.formatMeasure)(t.value,n.type);return a.default.createElement("span",null,a.default.createElement(o.default,{qualifier:t.qualifier})," ",u,null!=s&&a.default.createElement("span",null," ("+s+")"))};t.default=s},262:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),a=r(l),u=n(261),o=r(u),c=function(e){var t=e.breadcrumbs,n=e.metric,r=e.onBrowse;return a.default.createElement("ul",{className:"component-measures-breadcrumbs"},t.map(function(e,l){return a.default.createElement("li",{key:e.key},a.default.createElement(o.default,{component:e,metric:n,onBrowse:l+1<t.length?r:null}))}))};t.default=c},263:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),a=r(l),u=n(12),o=r(u),c=n(37),i=r(c),s=n(69),d=n(20),f=a.default.createElement("span",{className:"big-spacer-right"},a.default.createElement("i",{className:"icon-detach"})),m=function(e){var t=e.component,n=e.isSelected,r=e.onClick,l=(0,o.default)("link-no-underline",{selected:n}),u=function(e){var t=0===e.button,n=!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey);t&&!n&&(e.preventDefault(),r())},c="",m=t.name;if(["DIR","FIL","UTS"].includes(t.qualifier)){var p=(0,s.splitPath)(t.path);c=p.head,m=p.tail}var h=a.default.createElement("span",{title:t.refKey||t.key},a.default.createElement(i.default,{qualifier:t.qualifier})," ",c.length>0&&a.default.createElement("span",{className:"note"},c,"/"),a.default.createElement("span",null,m));return a.default.createElement("td",{style:{maxWidth:0}},a.default.createElement("div",{style:{maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},null==t.refId||"DEV_PRJ"===t.qualifier?a.default.createElement("a",{id:"component-measures-component-link-"+t.key,className:l,href:(0,d.getComponentUrl)(t.key),onClick:u},h):a.default.createElement("a",{id:"component-measures-component-link-"+t.key,className:l,href:(0,d.getComponentUrl)(t.refKey||t.key)},f,h)))};t.default=m},264:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),a=r(l),u=n(265),o=r(u),c=n(266),i=r(c),s=n(203),d=r(s),f=n(2),m=a.default.createElement(i.default,null),p=a.default.createElement("th",null," "),h=function(e){var t=e.components,n=e.metrics,r=e.selected,l=e.metric,u=e.onClick;if(!t.length)return m;var c=(d.default[l.key]||[]).map(function(e){return n.find(function(t){return t.key===e})});return a.default.createElement("table",{className:"data zebra zebra-hover"},c.length>0&&a.default.createElement("thead",null,a.default.createElement("tr",null,p,a.default.createElement("th",{className:"text-right"},a.default.createElement("span",{className:"small"},(0,f.getLocalizedMetricName)(l))),c.map(function(e){return a.default.createElement("th",{key:e.key,className:"text-right"},a.default.createElement("span",{className:"small"},(0,f.getLocalizedMetricName)(e)))}))),a.default.createElement("tbody",null,t.map(function(e){return a.default.createElement(o.default,{key:e.id,component:e,otherMetrics:c,isSelected:e===r,metric:l,onClick:u})})))};t.default=h},265:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),a=r(l),u=n(263),o=r(u),c=n(268),i=r(c),s=function(e,t){return Object.assign({},e,{value:t.value,leak:t.leak})},d=function(e){var t=e.component,n=e.otherMetrics,r=e.isSelected,l=e.metric,u=e.onClick,c=function(){u(t)},d=n.map(function(e){var n=t.measures.find(function(t){return t.metric===e.key});return Object.assign({},n,{metric:e})});return a.default.createElement("tr",null,a.default.createElement(o.default,{component:t,isSelected:r,onClick:c.bind(void 0,t)}),a.default.createElement(i.default,{component:t,metric:l}),d.map(function(e){return a.default.createElement(i.default,{key:e.metric.key,component:s(t,e),metric:e.metric})}))};t.default=d},266:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),a=r(l),u=n(2),o=function(){return a.default.createElement("div",{className:"note"},(0,u.translate)("no_results"))};t.default=o},267:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),a=r(l),u=n(262),o=r(u),c=n(2),i=function(e){var t=e.metric,n=e.breadcrumbs,r=e.onBrowse,l=e.selectedIndex,u=e.componentsCount,i=e.onSelectPrevious,s=e.onSelectNext,d=l>0,f=l<u-1,m=function(e){return function(t){t.target.blur(),e()}};return a.default.createElement("header",{className:"measure-details-viewer-header"},null!=n&&n.length>1&&a.default.createElement("div",{className:"measure-details-header-container"},a.default.createElement(o.default,{breadcrumbs:n,metric:t,onBrowse:r})),null!=l&&l!==-1&&a.default.createElement("div",{className:"pull-right"},a.default.createElement("span",{className:"note spacer-right"},(0,c.translateWithParameters)("component_measures.x_of_y",l+1,u)),a.default.createElement("div",{className:"button-group"},d&&a.default.createElement("button",{onClick:m(i)},"<"),f&&a.default.createElement("button",{onClick:m(s)},">"))))};t.default=i},268:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),a=r(l),u=n(97),o=r(u),c=function(e){var t=e.component,n=e.metric;return a.default.createElement("td",{className:"thin nowrap text-right"},a.default.createElement("span",{id:"component-measures-component-measure-"+t.key+"-"+n.key},a.default.createElement(o.default,{measure:{value:t.value,leak:t.leak},metric:n})))};t.default=c},858:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),i=r(c),s=n(6),d=r(s),f=n(264),m=r(f),p=n(267),h=r(p),v=n(58),y=r(v),b=n(98),E=r(b),k=n(77),_=r(k),g=i.default.createElement(y.default,null),M=function(e){function t(){return l(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),o(t,[{key:"componentDidMount",value:function(){this.handleChangeBaseComponent(this.props.component)}},{key:"componentDidUpdate",value:function(e){e.metric!==this.props.metric&&this.handleChangeBaseComponent(this.props.component),this.props.selected?this.scrollToViewer():this.scrollTop&&this.scrollToStoredPosition()}},{key:"scrollToViewer",value:function(){var e=this.refs.container,t=e.getBoundingClientRect().top+window.scrollY-95-10;window.scrollY>t&&window.scrollTo(0,t)}},{key:"scrollToStoredPosition",value:function(){window.scrollTo(0,this.scrollTop),this.scrollTop=null}},{key:"storeScrollPosition",value:function(){this.scrollTop=window.scrollY}},{key:"handleChangeBaseComponent",value:function(e){var t=this.props,n=t.metric,r=t.onStart,l=this.props.location.query.period||1;r(e,n,Number(l))}},{key:"handleFetchMore",value:function(){this.props.onFetchMore()}},{key:"changeSelected",value:function(e){this.props.onSelect(e)}},{key:"canDrilldown",value:function(e){return!["FIL","UTS"].includes(e.qualifier)}},{key:"handleClick",value:function(e){this.canDrilldown(e)?this.props.onDrilldown(e):(this.storeScrollPosition(),this.props.onSelect(e))}},{key:"handleBreadcrumbClick",value:function(e){this.props.onUseBreadcrumbs(e,this.props.metric)}},{key:"render",value:function(){var e=this.props,t=e.components,n=e.metrics,r=e.breadcrumbs,l=e.metric,a=e.leakPeriod,u=e.selected,o=e.total,c=e.fetching,s=this.props,f=s.onSelectNext,p=s.onSelectPrevious,v=t.indexOf(u),y=0===l.key.indexOf("new_")&&a?a:null,b=null!=y?(0,d.default)(y.date).toDate():null,k=null!=b?function(e){if(e.scmDate){var t=(0,d.default)(e.scmDate).toDate();return t>=b}return!1}:void 0;return i.default.createElement("div",{ref:"container",className:"measure-details-plain-list"},i.default.createElement(h.default,{metric:l,breadcrumbs:r,componentsCount:t.length,selectedIndex:v,onSelectPrevious:p,onSelectNext:f,onBrowse:this.handleBreadcrumbClick.bind(this)}),!u&&i.default.createElement("div",null,c&&0===t.length?g:i.default.createElement("div",null,i.default.createElement(m.default,{components:t,metrics:n,selected:u,metric:l,onClick:this.handleClick.bind(this)}),i.default.createElement(_.default,{count:t.length,total:o,loadMore:this.handleFetchMore.bind(this)}))),!!u&&i.default.createElement("div",{className:"measure-details-viewer"},i.default.createElement(E.default,{component:u.key,filterLine:k})))}}]),t}(i.default.PureComponent);t.default=M},859:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(7),a=n(858),u=r(a),o=n(430),c=n(8),i=function(e){return{components:(0,c.getMeasuresAppTreeComponents)(e),breadcrumbs:(0,c.getMeasuresAppTreeBreadcrumbs)(e),selected:(0,c.getMeasuresAppTreeSelected)(e),total:(0,c.getMeasuresAppTreeTotal)(e),pageIndex:(0,c.getMeasuresAppTreePageIndex)(e),component:(0,c.getMeasuresAppComponent)(e),metrics:(0,c.getMeasuresAppAllMetrics)(e),metric:(0,c.getMeasuresAppDetailsMetric)(e),fetching:(0,c.isMeasuresAppFetching)(e)}},s=function(e){return{onStart:function(t,n,r){return e((0,o.start)(t,n,r))},onDrilldown:function(t){return e((0,o.drilldown)(t))},onUseBreadcrumbs:function(t){return e((0,o.useBreadcrumbs)(t))},onFetchMore:function(){return e((0,o.fetchMore)())},onSelect:function(t){return e((0,o.selectComponent)(t))},onSelectNext:function(t){return e((0,o.selectNext)(t))},onSelectPrevious:function(t){return e((0,o.selectPrevious)(t))}}};t.default=(0,l.connect)(i,s)(u.default)}});