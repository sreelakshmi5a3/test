webpackJsonp([36],{1178:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),f=r(u),s=n(1180),c=r(s),p=n(1181),d=r(p),h=n(36),m=n(41),y=f.default.createElement("i",{className:"spinner spacer-left"}),b=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleCompare=function(e){var t=(0,m.getProfileComparePath)(n.props.profile.name,n.props.profile.language,n.props.organization,e);n.context.router.push(t)},n.state={loading:!1},n}return l(t,e),i(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.loadResults()}},{key:"componentDidUpdate",value:function(e){e.profile===this.props.profile&&e.location===this.props.location||this.loadResults()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"loadResults",value:function(){var e=this,t=this.props.location.query.withKey;return t?(this.setState({loading:!0}),void(0,h.compareProfiles)(this.props.profile.key,t).then(function(t){e.mounted&&e.setState({left:t.left,right:t.right,inLeft:t.inLeft,inRight:t.inRight,modified:t.modified,loading:!1})})):void this.setState({left:void 0,loading:!1})}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.profiles,r=e.location,o=r.query.withKey,a=this.state,l=a.left,i=a.right,u=a.inLeft,s=a.inRight,p=a.modified;return f.default.createElement("div",{className:"quality-profile-box js-profile-comparison"},f.default.createElement("header",{className:"spacer-bottom"},f.default.createElement(c.default,{withKey:o,profile:t,profiles:n,onCompare:this.handleCompare}),this.state.loading&&y),null!=l&&f.default.createElement(d.default,{left:l,right:i,inLeft:u,inRight:s,modified:p,organization:this.props.organization}))}}]),t}(f.default.PureComponent);b.contextTypes={router:f.default.PropTypes.object},t.default=b},1179:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),f=r(u),s=n(2),c=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"big-spacer-top"},(0,s.translate)("quality_profile.empty_comparison"))}}]),t}(f.default.PureComponent);t.default=c},1180:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),f=r(u),s=n(33),c=r(s),p=n(2),d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"handleChange",value:function(e){this.props.onCompare(e.value)}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.profiles,r=e.withKey,o=n.filter(function(e){return e.language===t.language&&e!==t}).map(function(e){return{value:e.key,label:e.name}});return f.default.createElement("div",{className:"display-inline-block"},f.default.createElement("label",{className:"spacer-right"},(0,p.translate)("quality_profiles.compare_with")),f.default.createElement(c.default,{value:r,options:o,clearable:!1,className:"input-large",onChange:this.handleChange.bind(this)}))}}]),t}(f.default.PureComponent);t.default=d},1181:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),s=r(f),c=n(9),p=n(1179),d=r(p),h=n(218),m=r(h),y=n(2),b=n(20),g=s.default.createElement("td",null," "),v=s.default.createElement("td",null," "),_=s.default.createElement("td",null," "),E=s.default.createElement("td",null," "),w=s.default.createElement(d.default,null),k=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"renderRule",value:function(e,t){return s.default.createElement("div",null,s.default.createElement(m.default,{severity:t})," ",s.default.createElement(c.Link,{to:(0,b.getRulesUrl)({rule_key:e.key},this.props.organization)},e.name))}},{key:"renderParameters",value:function(e){return e?s.default.createElement("ul",null,Object.keys(e).map(function(t){return s.default.createElement("li",{key:t,className:"spacer-top"},s.default.createElement("code",null,t,": ",e[t]))})):null}},{key:"renderLeft",value:function(){var e=this;if(0===this.props.inLeft.length)return null;var t=s.default.createElement("tr",{key:"left-header"},s.default.createElement("td",null,s.default.createElement("h6",null,(0,y.translateWithParameters)("quality_profiles.x_rules_only_in",this.props.inLeft.length)," ",this.props.left.name)),g),n=this.props.inLeft.map(function(t){return s.default.createElement("tr",{key:"left-"+t.key,className:"js-comparison-in-left"},s.default.createElement("td",null,e.renderRule(t,t.severity)),v)});return[t].concat(o(n))}},{key:"renderRight",value:function(){var e=this;if(0===this.props.inRight.length)return null;var t=s.default.createElement("tr",{key:"right-header"},_,s.default.createElement("td",null,s.default.createElement("h6",null,(0,y.translateWithParameters)("quality_profiles.x_rules_only_in",this.props.inRight.length)," ",this.props.right.name))),n=this.props.inRight.map(function(t){return s.default.createElement("tr",{key:"right-"+t.key,className:"js-comparison-in-right"},E,s.default.createElement("td",null,e.renderRule(t,t.severity)))});return[t].concat(o(n))}},{key:"renderModified",value:function(){var e=this;if(0===this.props.modified.length)return null;var t=s.default.createElement("tr",{key:"modified-header"},s.default.createElement("td",{colSpan:"2",className:"text-center"},s.default.createElement("h6",null,(0,y.translateWithParameters)("quality_profiles.x_rules_have_different_configuration",this.props.modified.length)))),n=s.default.createElement("tr",{key:"modified-second-header"},s.default.createElement("td",null,s.default.createElement("h6",null,this.props.left.name)),s.default.createElement("td",null,s.default.createElement("h6",null,this.props.right.name))),r=this.props.modified.map(function(t){return s.default.createElement("tr",{key:"modified-"+t.key,className:"js-comparison-modified"},s.default.createElement("td",null,e.renderRule(t,t.left.severity),e.renderParameters(t.left.params)),s.default.createElement("td",null,e.renderRule(t,t.right.severity),e.renderParameters(t.right.params)))});return[t,n].concat(o(r))}},{key:"render",value:function(){return this.props.inLeft.length||this.props.inRight.length||this.props.modified.length?s.default.createElement("table",{className:"data zebra quality-profile-comparison-table"},s.default.createElement("tbody",null,this.renderLeft(),this.renderRight(),this.renderModified())):w}}]),t}(s.default.PureComponent);t.default=k}});