webpackJsonp([13],{236:function(e,t,n){var a=n(5);e.exports=(a.default||a).template({1:function(e,t,a,r){var o=this.escapeExpression;return o(n(3).call(e,"save",{name:"t",hash:{},data:r}))},3:function(e,t,a,r){var o=this.escapeExpression;return o(n(3).call(e,"copy",{name:"t",hash:{},data:r}))},5:function(e,t,a,r){var o=this.escapeExpression;return o(n(3).call(e,"create",{name:"t",hash:{},data:r}))},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,a,r){var o,i=this.escapeExpression,l=this.lambda,u='<form id="quality-gate-form">\n  <div class="modal-head">\n    <h2>'+i(n(3).call(e,"quality_gates",null!=e?e.method:e,{name:"t",hash:{},data:r}))+'</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n    <div class="modal-field">\n      <label for="quality-gate-form-name">'+i(n(3).call(e,"name",{name:"t",hash:{},data:r}))+' <em class="mandatory">*</em></label>\n      <input id="quality-gate-form-name" type="text" size="50" maxlength="100" value="'+i(l(null!=e?e.name:e,e))+'" required>\n    </div>\n  </div>\n  <div class="modal-foot">\n    <button id="quality-gate-form-submit">\n      ';return o=n(13).call(e,null!=e?e.method:e,"rename",{name:"eq",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=o&&(u+=o),u+="\n      ",o=n(13).call(e,null!=e?e.method:e,"copy",{name:"eq",hash:{},fn:this.program(3,r),inverse:this.noop,data:r}),null!=o&&(u+=o),u+="\n      ",o=n(13).call(e,null!=e?e.method:e,"create",{name:"eq",hash:{},fn:this.program(5,r),inverse:this.noop,data:r}),null!=o&&(u+=o),u+'\n    </button>\n    <a id="quality-gate-form-cancel" href="#" class="js-modal-close">'+i(n(3).call(e,"cancel",{name:"t",hash:{},data:r}))+"</a>\n  </div>\n</form>\n"},useData:!0})},1147:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){var t=e.value;a(t)}var n=e.metrics,a=e.onSelect,r=n.filter(function(e){return!e.hidden}),o=(0,s.sortBy)(r,"domain"),l=o.map(function(e){return{value:e.key,label:(0,c.getLocalizedMetricName)(e),domain:e.domain}}),d=[];return l.forEach(function(e,t,n){var a=t>0?n[t-1]:null;a&&a.domain===e.domain||d.push({value:e.domain,label:(0,c.getLocalizedMetricDomain)(e.domain),disabled:!0}),d.push(e)}),i.default.createElement("div",{className:"big-spacer-top panel bg-muted"},i.default.createElement(u.default,{id:"quality-gate-new-condition-metric",className:"text-middle input-large",options:d,placeholder:(0,c.translate)("quality_gates.add_condition"),onChange:t}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(1),i=a(o),l=n(33),u=a(l),s=n(4),c=n(2)},1148:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(33),d=a(c),f=n(1159),p=a(f),h=n(1168),m=a(h),y=n(100),v=a(y),b=n(82),g=n(2),_=n(16),E=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.state={changed:!1,period:e.condition.period,op:e.condition.op,warning:e.condition.warning||"",error:e.condition.error||""},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props.condition;e.id||this.refs.operator.focus()}},{key:"handleChange",value:function(){this.setState({changed:!0})}},{key:"handleOperatorChange",value:function(e){var t=e.value;this.setState({changed:!0,op:t})}},{key:"handlePeriodChange",value:function(e){var t=e?"1":void 0;this.setState({changed:!0,period:t})}},{key:"handleWarningChange",value:function(e){this.setState({changed:!0,warning:e})}},{key:"handleErrorChange",value:function(e){this.setState({changed:!0,error:e})}},{key:"handleSaveClick",value:function(e){var t=this,n=this.props,a=n.qualityGate,r=n.condition,o=n.metric,i=n.onSaveCondition,l=n.onError,u=n.onResetError,s=this.state.period,c={metric:r.metric,op:"RATING"===o.type?"GT":this.state.op,warning:this.state.warning,error:this.state.error};s&&"RATING"!==o.type&&(c.period=s),0===o.key.indexOf("new_")&&(c.period="1"),e.preventDefault(),(0,b.createCondition)(a.id,c).then(function(e){t.setState({changed:!1}),i(r,e),u()}).catch(function(e){return l(e)})}},{key:"handleUpdateClick",value:function(e){var t=this,n=this.props,a=n.condition,r=n.onSaveCondition,o=n.metric,i=n.onError,l=n.onResetError,u=this.state.period,s={id:a.id,metric:a.metric,op:"RATING"===o.type?"GT":this.state.op,warning:this.state.warning,error:this.state.error};u&&"RATING"!==o.type&&(s.period=u),0===o.key.indexOf("new_")&&(s.period="1"),e.preventDefault(),(0,b.updateCondition)(s).then(function(e){t.setState({changed:!1}),r(a,e),l()}).catch(function(e){return i(e)})}},{key:"handleDeleteClick",value:function(e){var t=this.props,n=t.qualityGate,a=t.condition,r=t.metric,o=t.onDeleteCondition;e.preventDefault(),new m.default({qualityGate:n,condition:a,metric:r,onDelete:function(){return o(a)}}).render()}},{key:"handleCancelClick",value:function(e){var t=this.props,n=t.condition,a=t.onDeleteCondition;e.preventDefault(),a(n)}},{key:"renderPeriodValue",value:function(){var e=this.props,t=e.condition,n=e.metric,a=!!this.state.period,r=0===t.metric.indexOf("new_"),o="RATING"===n.type;return r?s.default.createElement("span",{className:"note"},(0,g.translate)("quality_gates.condition.leak.unconditional")):o?s.default.createElement("span",{className:"note"},(0,g.translate)("quality_gates.condition.leak.never")):a?(0,g.translate)("quality_gates.condition.leak.yes"):(0,g.translate)("quality_gates.condition.leak.no")}},{key:"renderPeriod",value:function(){var e=this.props,t=e.condition,n=e.metric,a=e.edit,r=0===t.metric.indexOf("new_"),o="RATING"===n.type,i=!!this.state.period;return o||r||!a?this.renderPeriodValue():s.default.createElement(v.default,{checked:i,onCheck:this.handlePeriodChange.bind(this)})}},{key:"renderOperator",value:function(){var e=this.props,t=e.condition,n=e.edit,a=e.metric;if(!n)return"RATING"===a.type?(0,g.translate)("quality_gates.operator",t.op,"rating"):(0,g.translate)("quality_gates.operator",t.op);if("RATING"===a.type)return s.default.createElement("span",{className:"note"},(0,g.translate)("quality_gates.operator.GT.rating"));var r=["LT","GT","EQ","NE"],o=r.map(function(e){var t=(0,g.translate)("quality_gates.operator",e);return{label:t,value:e}});return s.default.createElement(d.default,{ref:"operator",className:"input-medium",name:"operator",value:this.state.op,clearable:!1,searchable:!1,options:o,onChange:this.handleOperatorChange.bind(this)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.condition,a=t.edit,r=t.metric;return s.default.createElement("tr",null,s.default.createElement("td",{className:"text-middle nowrap"},(0,g.getLocalizedMetricName)(r),r.hidden&&s.default.createElement("span",{className:"text-danger little-spacer-left"},(0,g.translate)("deprecated"))),s.default.createElement("td",{className:"thin text-middle nowrap"},this.renderPeriod()),s.default.createElement("td",{className:"thin text-middle nowrap"},this.renderOperator()),s.default.createElement("td",{className:"thin text-middle nowrap"},a?s.default.createElement(p.default,{name:"warning",value:this.state.warning,metric:r,onChange:function(t){return e.handleWarningChange(t)}}):(0,_.formatMeasure)(n.warning,r.type)),s.default.createElement("td",{className:"thin text-middle nowrap"},a?s.default.createElement(p.default,{name:"error",value:this.state.error,metric:r,onChange:function(t){return e.handleErrorChange(t)}}):(0,_.formatMeasure)(n.error,r.type)),a&&s.default.createElement("td",{className:"thin text-middle nowrap"},n.id?s.default.createElement("div",{className:"button-group"},s.default.createElement("button",{className:"update-condition",disabled:!this.state.changed,onClick:this.handleUpdateClick.bind(this)},(0,g.translate)("update_verb")),s.default.createElement("button",{className:"button-red delete-condition",onClick:this.handleDeleteClick.bind(this)},(0,g.translate)("delete"))):s.default.createElement("div",{className:"button-group"},s.default.createElement("button",{className:"add-condition",onClick:this.handleSaveClick.bind(this)},(0,g.translate)("add_verb")),s.default.createElement("a",{className:"action cancel-add-condition",href:"#",onClick:this.handleCancelClick.bind(this)},(0,g.translate)("cancel")))))}}]),t}(u.Component);t.default=E},1149:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return e.id?e.id:"new-"+t}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),d=n(4),f=n(1150),p=a(f),h=n(1147),m=a(h),y=n(1148),v=a(y),b=n(2),g=c.default.createElement(p.default,null),_=c.default.createElement("th",null),E=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={error:null},i=n,o(a,i)}return i(t,e),u(t,[{key:"componentWillUpdate",value:function(e){e.qualityGate!==this.props.qualityGate&&this.setState({error:null})}},{key:"handleError",value:function(e){var t=this;try{e.response.json().then(function(e){var n=e.errors.map(function(e){return e.msg}).join(". ");t.setState({error:n})})}catch(n){this.setState({error:(0,b.translate)("default_error_message")})}}},{key:"handleResetError",value:function(){this.setState({error:null})}},{key:"render",value:function(){var e=this,t=this.props,n=t.qualityGate,a=t.conditions,r=t.metrics,o=t.edit,i=t.onAddCondition,u=t.onSaveCondition,s=t.onDeleteCondition,f=(0,d.sortBy)(a,function(e){return r.find(function(t){return t.key===e.metric}).name}),p=[],h=a.filter(function(e){return null!=e.id});h.forEach(function(e){var t=h.filter(function(t){return t.metric===e.metric&&t.period===e.period}).length;t>1&&p.push(e)});var y=(0,d.uniqBy)(p,function(e){return e.metric}).map(function(e){var t=r.find(function(t){return t.key===e.metric});return Object.assign({},e,{metric:t})});return c.default.createElement("div",{id:"quality-gate-conditions",className:"quality-gate-section"},c.default.createElement("h3",{className:"spacer-bottom"},(0,b.translate)("quality_gates.conditions")),g,this.state.error&&c.default.createElement("div",{className:"alert alert-danger"},this.state.error),y.length>0&&c.default.createElement("div",{className:"alert alert-warning"},c.default.createElement("p",null,(0,b.translate)("quality_gates.duplicated_conditions")),c.default.createElement("ul",{className:"list-styled spacer-top"},y.map(function(e){return c.default.createElement("li",{key:e.metric.key},(0,b.getLocalizedMetricName)(e.metric))}))),f.length?c.default.createElement("table",{id:"quality-gate-conditions",className:"data zebra zebra-hover"},c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("th",{className:"nowrap"},(0,b.translate)("quality_gates.conditions.metric")),c.default.createElement("th",{className:"thin nowrap"},(0,b.translate)("quality_gates.conditions.leak")),c.default.createElement("th",{className:"thin nowrap"},(0,b.translate)("quality_gates.conditions.operator")),c.default.createElement("th",{className:"thin nowrap"},(0,b.translate)("quality_gates.conditions.warning")),c.default.createElement("th",{className:"thin nowrap"},(0,b.translate)("quality_gates.conditions.error")),o&&_)),c.default.createElement("tbody",null,f.map(function(t,a){return c.default.createElement(v.default,{key:l(t,a),qualityGate:n,condition:t,metric:r.find(function(e){return e.key===t.metric}),edit:o,onSaveCondition:u,onDeleteCondition:s,onError:e.handleError.bind(e),onResetError:e.handleResetError.bind(e)})}))):c.default.createElement("div",{className:"big-spacer-top"},(0,b.translate)("quality_gates.no_conditions")),o&&c.default.createElement(m.default,{metrics:r,onSelect:i}))}}]),t}(c.default.PureComponent);t.default=E},1150:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(2),d=s.default.createElement("i",{className:"icon-alert-ok"}),f=s.default.createElement("i",{className:"icon-alert-warn"}),p=s.default.createElement("i",{className:"icon-alert-error"}),h=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={expanded:!1},i=n,o(a,i)}return i(t,e),l(t,[{key:"handleMoreClick",value:function(e){e.preventDefault(),this.setState({expanded:!0})}},{key:"render",value:function(){var e=this.state.expanded;return s.default.createElement("div",{className:"big-spacer-bottom"},(0,c.translate)("quality_gates.introduction"),!e&&s.default.createElement("a",{className:"spacer-left",href:"#",onClick:this.handleMoreClick.bind(this)},(0,c.translate)("more")),e&&s.default.createElement("div",{className:"spacer-top"},(0,c.translate)("quality_gates.health_icons"),s.default.createElement("ul",null,s.default.createElement("li",{className:"little-spacer-top"},d," ",(0,c.translate)("alerts.notes.ok")),s.default.createElement("li",{className:"little-spacer-top"},f," ",(0,c.translate)("alerts.notes.warn")),s.default.createElement("li",{className:"little-spacer-top"},p," ",(0,c.translate)("alerts.notes.error")))))}}]),t}(u.Component);t.default=h},1151:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(15),d=a(c),f=n(82),p=n(1153),h=a(p),m=n(1152),y=a(m),v=n(1170),b=a(v),g=n(1165),_=a(g),E=n(1167),w=a(E),C=s.default.createElement("h2",{className:"search-navigator-header-component"},"Â "),q=s.default.createElement("div",{className:"search-navigator-workspace-details"}),k=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.fetchDetails()}},{key:"componentDidUpdate",value:function(e){e.params.id!==this.props.params.id&&this.fetchDetails()}},{key:"fetchDetails",value:function(){var e=this.props.params.id,t=this.props.onShow;(0,f.fetchQualityGate)(e).then(function(e){t(e)})}},{key:"handleRenameClick",value:function(){var e=this.props,t=e.qualityGate,n=e.onRename;new b.default({qualityGate:t,onRename:function(e,t){n(e,t)}}).render()}},{key:"handleCopyClick",value:function(){var e=this.props,t=e.qualityGate,n=e.onCopy,a=this.context.router;new _.default({qualityGate:t,onCopy:function(e){n(e),a.push("/quality_gates/show/"+e.id)}}).render()}},{key:"handleSetAsDefaultClick",value:function(){var e=this.props,t=e.qualityGate,n=e.onSetAsDefault,a=e.onUnsetAsDefault;t.isDefault?(0,f.unsetQualityGateAsDefault)(t.id).then(function(){return a(t)}):(0,f.setQualityGateAsDefault)(t.id).then(function(){return n(t)})}},{key:"handleDeleteClick",value:function(){var e=this.props,t=e.qualityGate,n=e.onDelete,a=this.context.router;new w.default({qualityGate:t,onDelete:function(e){n(e),a.replace("/quality_gates")}}).render()}},{key:"render",value:function(){var e=this.props,t=e.qualityGate,n=e.edit,a=e.metrics,r=this.props,o=r.onAddCondition,i=r.onDeleteCondition,l=r.onSaveCondition;return t?s.default.createElement("div",{className:"search-navigator-workspace"},s.default.createElement(d.default,{title:t.name}),s.default.createElement(h.default,{qualityGate:t,edit:n,onRename:this.handleRenameClick.bind(this),onCopy:this.handleCopyClick.bind(this),onSetAsDefault:this.handleSetAsDefaultClick.bind(this),onDelete:this.handleDeleteClick.bind(this)}),s.default.createElement(y.default,{gate:t,canEdit:n,metrics:a,onAddCondition:o,onSaveCondition:l,onDeleteCondition:i})):s.default.createElement("div",{className:"search-navigator-workspace"},s.default.createElement("div",{className:"search-navigator-workspace-header",style:{top:30}},C),q)}}]),t}(u.Component);t.default=k,k.contextTypes={router:s.default.PropTypes.object.isRequired}},1152:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(1149),d=a(c),f=n(1157),p=a(f),h=n(2),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.gate,n=e.canEdit,a=e.metrics,r=this.props,o=r.onAddCondition,i=r.onDeleteCondition,l=r.onSaveCondition,u=t.conditions||[],c=n?(0,h.translate)("quality_gates.projects_for_default.edit"):(0,h.translate)("quality_gates.projects_for_default");return s.default.createElement("div",{ref:"container",className:"search-navigator-workspace-details"},s.default.createElement(d.default,{qualityGate:t,conditions:u,metrics:a,edit:n,onAddCondition:o,onSaveCondition:l,onDeleteCondition:i}),s.default.createElement("div",{id:"quality-gate-projects",className:"quality-gate-section"},s.default.createElement("h3",{className:"spacer-bottom"},(0,h.translate)("quality_gates.projects")),t.isDefault?c:s.default.createElement(p.default,{qualityGate:t,edit:n})))}}]),t}(u.Component);t.default=m},1153:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){e.preventDefault(),s()}function n(e){e.preventDefault(),c()}function a(e){e.preventDefault(),d()}function r(e){e.preventDefault(),f()}var o=e.qualityGate,u=e.edit,s=e.onRename,c=e.onCopy,d=e.onSetAsDefault,f=e.onDelete;return i.default.createElement("div",{className:"search-navigator-workspace-header",style:{top:30}},i.default.createElement("h2",{className:"search-navigator-header-component"},o.name),u&&i.default.createElement("div",{className:"search-navigator-header-actions"},i.default.createElement("div",{className:"button-group"},i.default.createElement("button",{id:"quality-gate-rename",onClick:t},(0,l.translate)("rename")),i.default.createElement("button",{id:"quality-gate-copy",onClick:n},(0,l.translate)("copy")),i.default.createElement("button",{id:"quality-gate-toggle-default",onClick:a},o.isDefault?(0,l.translate)("unset_as_default"):(0,l.translate)("set_as_default")),i.default.createElement("button",{id:"quality-gate-delete",className:"button-red",onClick:r},(0,l.translate)("delete")))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(1),i=a(o),l=n(2)},1157:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(1169),d=a(c),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.renderView()}},{key:"componentWillUpdate",value:function(){this.destroyView()}},{key:"componentDidUpdate",value:function(){this.renderView()}},{key:"componentWillUnmount",value:function(){this.destroyView()}},{key:"destroyView",value:function(){this.projectsView&&this.projectsView.destroy()}},{key:"renderView",value:function(){var e=this.props,t=e.qualityGate,n=e.edit;this.projectsView=new d.default({qualityGate:t,edit:n,container:this.refs.container}),this.projectsView.render()}},{key:"render",value:function(){return s.default.createElement("div",{ref:"container"})}}]),t}(u.Component);t.default=f},1159:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(33),d=a(c),f=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.handleChange=function(e){a.props.onChange(e.target.value)},a.handleSelectChange=function(e){e?a.props.onChange(e.value):a.props.onChange("")},i=n,o(a,i)}return i(t,e),l(t,[{key:"renderRatingInput",value:function(){var e=this.props,t=e.name,n=e.value,a=[{label:"A",value:"1"},{label:"B",value:"2"},{label:"C",value:"3"},{label:"D",value:"4"}],r=""===n?null:n;return s.default.createElement(d.default,{className:"input-tiny text-middle",name:t,value:r,options:a,searchable:!1,placeholder:"",onChange:this.handleSelectChange})}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,a=e.metric;return"RATING"===a.type?this.renderRatingInput():s.default.createElement("input",{name:t,type:"text",className:"input-tiny text-middle",value:n,"data-type":a.type,placeholder:a.placeholder,onChange:this.handleChange})}}]),t}(s.default.PureComponent);f.propTypes={name:s.default.PropTypes.string.isRequired,value:s.default.PropTypes.any,metric:s.default.PropTypes.object.isRequired,onChange:s.default.PropTypes.func.isRequired},t.default=f},1160:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(288),i=n(1151),l=a(i),u=n(8),s=function(e){return(0,u.getQualityGatesAppState)(e)},c=function(e){return{onShow:function(t){return e((0,o.showQualityGate)(t))},onDelete:function(t){return e((0,o.deleteQualityGate)(t))},onRename:function(t,n){return e((0,o.renameQualityGate)(t,n))},onCopy:function(t){return e((0,o.copyQualityGate)(t))},onSetAsDefault:function(t){return e((0,o.setQualityGateAsDefault)(t))},onUnsetAsDefault:function(t){return e((0,o.unsetQualityGateAsDefault)(t))},onAddCondition:function(t){return e((0,o.addCondition)(t))},onSaveCondition:function(t,n){return e((0,o.saveCondition)(t,n))},onDeleteCondition:function(t){return e((0,o.deleteCondition)(t))}}};t.default=(0,r.connect)(s,c)(l.default)},1165:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=a(r),i=n(236),l=a(i),u=n(82),s=n(28);t.default=o.default.extend({template:l.default,onFormSubmit:function(){o.default.prototype.onFormSubmit.apply(this,arguments),this.disableForm(),this.sendRequest()},sendRequest:function(){var e=this,t=this.options.qualityGate.id,n=this.$("#quality-gate-form-name").val();(0,u.copyQualityGate)(t,n).then(function(t){e.destroy(),e.options.onCopy(t)},function(t){e.enableForm(),(0,s.parseError)(t).then(function(t){return e.showErrors([{msg:t}])})})},serializeData:function(){return Object.assign({method:"copy"},this.options.qualityGate)}})},1167:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=a(r),i=n(1684),l=a(i),u=n(82),s=n(28);t.default=o.default.extend({template:l.default,onFormSubmit:function(){o.default.prototype.onFormSubmit.apply(this,arguments),this.disableForm(),this.sendRequest()},sendRequest:function(){var e=this,t=this.options.qualityGate.id;(0,u.deleteQualityGate)(t).then(function(){e.destroy(),e.options.onDelete(e.options.qualityGate)},function(t){e.enableForm(),(0,s.parseError)(t).then(function(t){return e.showErrors([{msg:t}])})})},serializeData:function(){return this.options.qualityGate}})},1168:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=a(r),i=n(1683),l=a(i),u=n(82),s=n(2),c=n(28);t.default=o.default.extend({template:l.default,onFormSubmit:function(){o.default.prototype.onFormSubmit.apply(this,arguments),this.disableForm(),this.sendRequest()},sendRequest:function(){var e=this;return(0,u.deleteCondition)(this.options.condition.id).then(function(){e.destroy(),e.options.onDelete()},function(t){e.enableForm(),(0,c.parseError)(t).then(function(t){return e.showErrors([{msg:t}])})})},serializeData:function(){return{metric:this.options.metric,localizedMetricName:(0,s.getLocalizedMetricName)(this.options.metric)}}})},1169:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=a(r),i=n(124),l=a(i);n(216);var u=n(2);t.default=o.default.ItemView.extend({template:function(){},onRender:function(){var e=this.options.qualityGate;new window.SelectList({el:this.options.container,width:"100%",readOnly:!this.options.edit,focusSearch:!1,dangerouslyUnescapedHtmlFormat:function(e){return(0,l.default)(e.name)},searchUrl:window.baseUrl+"/api/qualitygates/search?gateId="+e.id,selectUrl:window.baseUrl+"/api/qualitygates/select",deselectUrl:window.baseUrl+"/api/qualitygates/deselect",extra:{gateId:e.id},selectParameter:"projectId",selectParameterValue:"id",labels:{selected:(0,u.translate)("quality_gates.projects.with"),deselected:(0,u.translate)("quality_gates.projects.without"),all:(0,u.translate)("quality_gates.projects.all"),noResults:(0,u.translate)("quality_gates.projects.noResults")},tooltips:{select:(0,u.translate)("quality_gates.projects.select_hint"),deselect:(0,u.translate)("quality_gates.projects.deselect_hint")}})},serializeData:function(){return Object.assign({},o.default.ItemView.prototype.serializeData.apply(this,arguments),{canEdit:this.options.edit})}})},1170:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=a(r),i=n(236),l=a(i),u=n(82),s=n(28);t.default=o.default.extend({template:l.default,onFormSubmit:function(){o.default.prototype.onFormSubmit.apply(this,arguments),this.disableForm(),this.sendRequest()},sendRequest:function(){var e=this,t=this.options.qualityGate.id,n=this.$("#quality-gate-form-name").val();(0,u.renameQualityGate)(t,n).then(function(){e.destroy(),e.options.onRename(e.options.qualityGate,n)},function(t){e.enableForm(),(0,s.parseError)(t).then(function(t){return e.showErrors([{msg:t}])})})},serializeData:function(){return Object.assign({method:"rename"},this.options.qualityGate)}})},1683:function(e,t,n){var a=n(5);e.exports=(a.default||a).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,a,r){var o=this.escapeExpression;return'<form id="delete-condition-form">\n  <div class="modal-head">\n    <h2>'+o(n(3).call(e,"quality_gates.delete_condition",{name:"t",hash:{},data:r}))+'</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n    '+o(n(26).call(e,"quality_gates.delete_condition.confirm.message",null!=e?e.localizedMetricName:e,{name:"tp",hash:{},data:r}))+'\n  </div>\n  <div class="modal-foot">\n    <button id="delete-condition-submit">'+o(n(3).call(e,"delete",{
name:"t",hash:{},data:r}))+'</button>\n    <a href="#" class="js-modal-close" id="delete-condition-cancel">'+o(n(3).call(e,"cancel",{name:"t",hash:{},data:r}))+"</a>\n  </div>\n</form>\n"},useData:!0})},1684:function(e,t,n){var a=n(5);e.exports=(a.default||a).template({1:function(e,t,a,r){var o=this.escapeExpression;return"      "+o(n(26).call(e,"quality_gates.delete.confirm.default",null!=e?e.name:e,{name:"tp",hash:{},data:r}))+"\n"},3:function(e,t,a,r){var o=this.escapeExpression;return"      "+o(n(26).call(e,"quality_gates.delete.confirm.message",null!=e?e.name:e,{name:"tp",hash:{},data:r}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,a,r){var o,i=this.escapeExpression,l='<form id="delete-gate-form">\n  <div class="modal-head">\n    <h2>'+i(n(3).call(e,"quality_gates.delete",{name:"t",hash:{},data:r}))+'</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n';return o=t.if.call(e,null!=e?e.isDefault:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.program(3,r),data:r}),null!=o&&(l+=o),l+'  </div>\n  <div class="modal-foot">\n    <button id="delete-gate-submit">'+i(n(3).call(e,"delete",{name:"t",hash:{},data:r}))+'</button>\n    <a href="#" class="js-modal-close" id="delete-gate-cancel">'+i(n(3).call(e,"cancel",{name:"t",hash:{},data:r}))+"</a>\n  </div>\n</form>\n"},useData:!0})}});